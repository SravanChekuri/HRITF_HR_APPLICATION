<div class="emp-add">
    <div class="back">
        <a routerLink=".."><i class="fa-solid fa-arrow-left-long"></i>&nbsp;Back to Employee Search</a>
    </div>
    <div>
        <div class="bulkUpload-container">
            <div>
                <h5>Quick Add Employee to the company</h5>
                <p>Add an employee by filling the from or add add a bunch of employee by clicking bulk upload </p>

                <div *ngIf="bulkpass"><p style="text-align:right;padding:0 3% 0 0;color:green;font-weight:bold;"><i class="fa-solid fa-check" style="color: green;"></i>&nbsp;Successfully uploaded the data</p></div>
                <div *ngIf="bulkfail"><p style="text-align: right; padding: 0 3% 0 0;color:red;font-weight: bold;"><i class="fa-solid fa-xmark" style="color: red;"></i>&nbsp;Failed to add Employees,because {{bulkmsg}}</p></div>

                <input id="file-upload" class="file-upload" type="file"  accept=".xlsx, .xls" required (change)="selectFile($event)"/> <br><br>

                <label  class="custom-file-upload" (click)="uploadFile()">Add Bulk Employee</label>
            </div>
        </div>
        <hr class="hr">
        <div class="form-container">
            <h5>Add details of new employee:</h5>
            <div *ngIf="successmsg" class="success-msg"><img src=".../../../../../../../assets/Images/success-tick-dribbble-gif.gif" alt="Sucessfully img" class="sucessfull-img"><span class="success-text"> Employee Added Sucessfully to the database</span></div>
            <div *ngIf="failmsg" class="fail-msg"><span class="fail-text">Failed to add : {{msg}}</span></div>

            <div>
                <form [formGroup]="addEmpForm" (ngSubmit)="submitEmpData()">
                    <div class="d-flex flex-row">
                        <div class="label-container">
                            <label for="fn">First Name*</label>
                            <input type="text" id="fn" class="form-control" formControlName="FirstName">
                            <div *ngIf="addEmpForm.get('FirstName').touched && addEmpForm.get('FirstName').invalid || submitted && addEmpForm.get('FirstName').invalid">
                                <div *ngIf="addEmpForm.get('FirstName')?.hasError('required')" class="text-danger">
                                    *Employee First Name required
                                </div> 
                            </div>
                        </div>

                        <div class="label-container">
                            <label for="mn">Middle Name</label>
                            <input type="text"id="mn" class="form-control" formControlName="MiddleName">
                            <div *ngIf="addEmpForm.get('MiddleName').touched && addEmpForm.get('MiddleName')?.hasError('required')" class="text-danger">
                                *Employee Middle Name required
                            </div>
                        </div>

                        <div class="label-container">
                            <label for="ln">Last Name*</label>
                            <input type="text"id="ln" class="form-control" formControlName="LastName">
                            <div *ngIf="addEmpForm.get('LastName').touched && addEmpForm.get('LastName').invalid || submitted && addEmpForm.get('LastName').invalid" class="text-danger">
                                <div *ngIf="addEmpForm.get('LastName')?.hasError('required')">
                                    *Employee Last Name  required
                                </div>
                            </div>
                        </div>

                        <div class="label-container">
                            <label for="empno">Employee Number*</label>
                            <input type="text" id="empno" class="form-control" formControlName="EmployeeNumber">
                            <div *ngIf="addEmpForm.get('EmployeeNumber').touched && addEmpForm.get('EmployeeNumber').invalid || submitted && addEmpForm.get('EmployeeNumber').invalid" class="text-danger">
                                <div *ngIf="addEmpForm.get('EmployeeNumber')?.hasError('required')">
                                    *Employee Number required
                                </div>
                            </div>
                        </div>

                        <div class="label-container">
                            <label for="doj">Date of Joining*</label>
                            <input type="date" id="doj"  class="form-control" formControlName="DateOfJoining">
                            <div *ngIf="addEmpForm.get('DateOfJoining').touched && addEmpForm.get('DateOfJoining').invalid || submitted && addEmpForm.get('DateOfJoining').invalid" class="text-danger">
                                <div *ngIf="addEmpForm.get('DateOfJoining')?.hasError('required')">
                                    *Employee Date Of Joining required
                                </div>                               
                            </div>
                        </div>
                    </div>

                    <div class="d-flex flex-row">
                        <div class="label-container">
                            <label for="location">Location*</label>
                            <select id="location" class="form-control drop-down" formControlName="Location">
                                <option>Select</option>
                                <option value="Bangalore">Bangalore</option>
                                <option value="Hyderabad">Hyderabad</option>
                            </select>
                            <div *ngIf="addEmpForm.get('Location').touched && addEmpForm.get('Location')?.hasError('required')" class="text-danger">
                                *Location required
                            </div>
                        </div>

                        <div class="label-container">
                            <label for="email">Email Id*</label>
                            <input type="email" id="email" class="form-control" formControlName="Email">
                            <div *ngIf="addEmpForm.get('Email').touched && addEmpForm.get('Email')?.hasError('required')" class="text-danger">
                                *Email required
                            </div>
                            <div *ngIf="addEmpForm.get('Email')?.hasError('email')">
                                Invalid Email
                            </div>
                        </div>
                    
                        <div class="label-container">
                            <label for="worker">Worker Type</label>
                            <select name="" id="worker" class="form-control" formControlName="workerType">
                                <option value="Select">Select</option>
                                <option value="Candidate">Candidate</option>
                                <option value="Employee">Employee</option>
                            </select>
                        </div>
                        <div class="label-container">
                            <label for="">Effective start Date</label>
                            <!-- <input type="date" class="form-control" value="30-10-2020"> -->
                            <input type="date" class="form-control" formControlName="startDate"/>
                        </div>
                        <div class="label-container">
                            <label for="">Effective End Date</label>
                            <!-- <input type="date" class="form-control" value="30-10-2020"> -->
                            <input type="date" value="4712-12-31" class="form-control" formControlName="endDate"/>
                        </div>
                    </div>
                    <br>
                    <p>After saving the onboarding process will start and employee will receive a welcome email with the link to set hit password.</p>
                    <div class="button-container">
                        <button class="btn btn-info" type="submit" [disabled]="addEmpForm.invalid">save</button>&nbsp;&nbsp;
                        <button class="btn btn-info" type="reset" (click)="resetForm()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>